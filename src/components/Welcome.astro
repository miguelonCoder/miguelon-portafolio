---
import '../styles/welcome.css'
---
<div id="container" class="welcome-container full-welcome animated-2">
  <h1 id="title-1" class="title-1">Hola! me llamo</h1>
  <div id="photo" class="photo image-container animated" data-name="photo"></div>
  <h2 id="name" class="name title-2 ">Miguel Angel Ramirez</h2>
  <div id="brand" class="brand-container animated">
    <img src="./images/miguelon-coder.svg" alt="" />
    <span id="brand-name"> @miguelonCoder</span>
  </div>
</div>
<script>
  import { slide } from "../store.js";

  document.addEventListener("DOMContentLoaded", function (event) {
    let currentTarget = 0;
    slide.subscribe((_slide) => {

      const container = document.getElementById('container')
      const photo = document.getElementById('photo')
      const title = document.getElementById('title-1')
      const name = document.getElementById('name')
      const brandName = document.getElementById('brand-name')
      
      if (currentTarget == 0 && _slide == 1) {
        console.log("start transition out");
        document.startViewTransition(() => {
          container!.style.height = '60px'
          container!.style.flexDirection = 'row'
          container!.style.justifyContent = 'space-between'
          
          photo!.style.height = '40px'
          photo!.style.width = '40px'

          brandName!.style.display = 'none'
          title!.style.display = 'none'
          name!.style.display = 'none'

        });
      }

      if (currentTarget > 0 && _slide == 0) {
        console.log("start transition in");
        document.startViewTransition(() => {
          container!.style.height = '100%'
          container!.style.flexDirection = 'column'
          container!.style.justifyContent = 'center'

          photo!.style.height = '150px'
          photo!.style.width = '150px'

          brandName!.style.display = 'inline'
          title!.style.display = 'block'
          name!.style.display = 'block'
        });
      }
      currentTarget = _slide;
    });
  });
</script>
<style>
</style>
